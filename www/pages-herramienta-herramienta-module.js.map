{"version":3,"sources":["webpack:///./src/app/pages/herramienta/herramienta.module.ts","webpack:///./src/app/pages/herramienta/herramienta.page.html","webpack:///./src/app/pages/herramienta/herramienta.page.scss","webpack:///./src/app/pages/herramienta/herramienta.page.ts"],"names":[],"mappings":"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","file":"pages-herramienta-herramienta-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HerramientaPage } from './herramienta.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HerramientaPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [HerramientaPage]\n})\nexport class HerramientaPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"/schedulesvisits\\\"></ion-back-button>\\n        </ion-buttons>\\n\\n        <ion-searchbar mode=\\\"ios\\\" show-cancel-button=\\\"true\\\" cancel-button-text=\\\"Cancelar\\\" (ionChange)=\\\"onSearch($event)\\\" autocomplete=\\\"off\\\" autocorrect=\\\"on\\\" animated=\\\"true\\\" spellcheck=\\\"true\\\" type=\\\"text\\\" ionBlur=\\\"\\\" color=\\\"ligth\\\" placeholder=\\\"Buscar Materiales\\\">\\n        </ion-searchbar>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-fab-button color=\\\"light\\\" (click)=\\\"addTool()\\\">\\n                <ion-icon name=\\\"add\\\" color=\\\"primary\\\"></ion-icon>\\n            </ion-fab-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<div class=\\\"bodycontent\\\">\\n    <div *ngIf=\\\"showListTool;\\\">\\n        <ion-infinite-scroll threshold=\\\"100px\\\">\\n            <ion-infinite-scroll-content>\\n                <ion-card class=\\\"card-schedules\\\" *ngFor=\\\"let mat of listAllObras\\\">\\n                    <ion-card-header>\\n                        <ion-card-title>Material: {{ mat.name }} </ion-card-title>\\n                        <ion-card-title>Precio: {{ mat.price | currency:'$' }}</ion-card-title>\\n                    </ion-card-header>\\n                    <ion-card-content>\\n                        <div style=\\\"float:right\\\">\\n                            <ion-chip>\\n                                <ion-icon mode=\\\"ios\\\" (click)=\\\"edit(mat)\\\" name=\\\"create\\\" color=\\\"primary\\\" class=\\\"icon-circle-small-e\\\"></ion-icon>\\n                                <ion-icon mode=\\\"ios\\\" (click)=\\\"delete(mat)\\\" name=\\\"trash\\\" color=\\\"primary\\\" class=\\\"icon-circle-small-d\\\"></ion-icon>\\n                            </ion-chip>\\n                        </div>\\n                    </ion-card-content>\\n                </ion-card>\\n            </ion-infinite-scroll-content>\\n        </ion-infinite-scroll>\\n    </div>\\n    <div *ngIf=\\\"Smessage\\\" style=\\\"margin-top: 250px;text-align: center;\\\">\\n        {{message}}\\n    </div>\\n    <h4 *ngIf=\\\"showForm\\\" style=\\\"margin-top: 250px;margin-left: 20px;margin-right: 20px;\\\">\\n        Esta seccion es para subir el archivo de registro para herramientas.\\n    </h4>\\n    <ion-button *ngIf=\\\"showForm\\\" class=\\\"btnsub\\\" (click)=\\\"upload()\\\" color=\\\"warning\\\" expand=\\\"block\\\" fill=\\\"solid\\\">\\n        <ion-label class=\\\"colorText\\\">Subir archivo</ion-label>\\n    </ion-button>\\n    <form *ngIf=\\\"showForm2;\\\" [formGroup]=\\\"formHerramienta\\\" (ngSubmit)=\\\"register()\\\">\\n        <ion-item class=\\\"item\\\">\\n            <ion-icon name=\\\"paper\\\" color=\\\"primary\\\" mode=\\\"ios\\\"></ion-icon>\\n            <ion-label>Nombre</ion-label>\\n            <ion-input formControlName=\\\"name\\\" autocomplete=\\\"off\\\" type=\\\"text\\\"></ion-input>\\n            <input type=\\\"hidden\\\" formControlName=\\\"id\\\">\\n        </ion-item>\\n\\n        <ion-item class=\\\"item\\\">\\n            <ion-icon name=\\\"logo-usd\\\" color=\\\"primary\\\" mode=\\\"ios\\\"></ion-icon>\\n            <ion-label>Precio</ion-label>\\n            <ion-input formControlName=\\\"price\\\" autocomplete=\\\"off\\\" type=\\\"text\\\"></ion-input>\\n        </ion-item>\\n\\n        <div class=\\\"seperar\\\">\\n            <ion-item mode=\\\"ios\\\" class='item'>\\n                <ion-button style=\\\"margin-left:110px;\\\" shape=\\\"round\\\" mode=\\\"ios\\\" color=\\\"light\\\" type=\\\"submit\\\">\\n                    <ion-label class=\\\"textcapitalize\\\" style=\\\"color:#0d4690\\\">Registrar</ion-label>\\n                    <ion-icon style=\\\"margin-left:100px\\\" name=\\\"send\\\" mode=\\\"ios\\\" color=\\\"primary\\\"></ion-icon>\\n                </ion-button>\\n            </ion-item>\\n        </div>\\n\\n    </form>\\n</div>\\n<ion-footer *ngIf=\\\"showForm\\\">\\n    <ion-button (click)=\\\"SendUri()\\\" color=\\\"primary\\\" expand=\\\"block\\\" fill=\\\"solid\\\">\\n        <ion-label class=\\\"colorText\\\">Aceptar</ion-label>\\n    </ion-button>\\n</ion-footer>\"","module.exports = \".card-schedules {\\n  border-radius: 5px;\\n  border-left-style: solid;\\n  border-left-color: #e0e0e0;\\n  border-left-width: thick;\\n  background: white; }\\n\\n.item {\\n  --border-radius: 30px;\\n  padding: 5%; }\\n\\n.btnsub {\\n  margin-top: 50px;\\n  margin-left: 10px;\\n  margin-right: 10px; }\\n\\n.bodycontent {\\n  background: white;\\n  background-repeat: no-repeat;\\n  height: 100%;\\n  width: 100%;\\n  overflow: auto; }\\n\\n.size {\\n  zoom: 1.5; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmR5Y2FpY2Vkby9Eb2N1bWVudHMvc29saW50ZXJhcHAvc3JjL2FwcC9wYWdlcy9oZXJyYW1pZW50YS9oZXJyYW1pZW50YS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBa0I7RUFDbEIsd0JBQXdCO0VBQ3hCLDBCQUEwQjtFQUMxQix3QkFBd0I7RUFDeEIsaUJBQWlCLEVBQUE7O0FBR3JCO0VBQ0kscUJBQWdCO0VBQ2hCLFdBQVcsRUFBQTs7QUFHZjtFQUNJLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsa0JBQ0osRUFBQTs7QUFFQTtFQUNJLGlCQUFpQjtFQUNqQiw0QkFBNEI7RUFDNUIsWUFBWTtFQUNaLFdBQVc7RUFDWCxjQUFjLEVBQUE7O0FBR2xCO0VBQ0ksU0FBUyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaGVycmFtaWVudGEvaGVycmFtaWVudGEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQtc2NoZWR1bGVzIHtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYm9yZGVyLWxlZnQtc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjZTBlMGUwO1xuICAgIGJvcmRlci1sZWZ0LXdpZHRoOiB0aGljaztcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLml0ZW0ge1xuICAgIC0tYm9yZGVyLXJhZGl1czogMzBweDtcbiAgICBwYWRkaW5nOiA1JTtcbn1cblxuLmJ0bnN1YiB7XG4gICAgbWFyZ2luLXRvcDogNTBweDtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHhcbn1cblxuLmJvZHljb250ZW50IHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBvdmVyZmxvdzogYXV0bztcbn1cblxuLnNpemUge1xuICAgIHpvb206IDEuNTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormsModule, FormGroup, AbstractControl, Validators } from '@angular/forms';\nimport { ToastController, AlertController } from '@ionic/angular';\nimport { ConfigService } from '../../services/config-service';\nimport { HerramientaService } from '../../services/herramienta.service';\nimport { FileTransferObject, FileTransfer, FileUploadOptions } from '@ionic-native/file-transfer/ngx';\nimport { UploadService } from '../../services/upload.service';\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { File } from '@ionic-native/file/ngx';\n\n@Component({\n  selector: 'app-herramienta',\n  templateUrl: './herramienta.page.html',\n  styleUrls: ['./herramienta.page.scss'],\n})\nexport class HerramientaPage implements OnInit {\n\n  public listAllObras: any\n  public idProductDelete: any\n  public showListTool = false\n  public showSpinner = false\n  public showForm = false\n  public showForm2=false\n  public showFormTools = false\n  public formHerramienta : FormGroup\n  public id:AbstractControl\n  public name:AbstractControl\n  public price:AbstractControl\n  public Smessage = false;\n  public message: String;\n \n  constructor(\n    private servicesHerramienta: HerramientaService,\n    private formBuilder: FormBuilder,\n    public uploadS: UploadService, private fileChooser: FileChooser, \n    private transfer: FileTransfer, private file: File,\n    public toastController: ToastController,\n    public config: ConfigService,\n    public alertController: AlertController) \n  {\n   this.formHerramienta = this.formBuilder.group({\n    name: [''],\n    price: [''],\n    id: ['']\n  })\n  this.id = this.formHerramienta.controls['id']\n  this.name = this.formHerramienta.controls['name']\n  this.price = this.formHerramienta.controls['price']\n  }\n\n  ngOnInit()\n  {\n    this.getHerramienta()\n  }\n  getHerramienta()\n  {\n    this.showSpinner = true\n    this.servicesHerramienta.getHerramienta().subscribe((res:any) => {\n      if (res.length > 0) {\n        this.showListTool = true\n        this.listAllObras = res\n        this.showSpinner = false \n       } else {\n        this.showSpinner = false\n        this.Smessage = true\n        this.message = 'No hay herramientas registradas'\n       }\n    })\n  }\n  edit(obra: any)\n  {\n    this.showListTool = false\n    this.showForm2 = true\n    this.formHerramienta.setValue({ \n      id:obra.idtool,\n      name: obra.name,\n      price: obra.price\n    })\n    this.showSpinner = false\n  }\n  async delete(tool:any) \n  {\n    const alert = await this.alertController.create({\n      header: 'Está seguro de eliminar?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'primary',\n          handler: (blah) => {}\n        }, {\n          text: 'Si',\n          handler: () => \n          {\n            this.servicesHerramienta.delete(tool.idtool)\n            .subscribe( (res:any) => {\n             this.getHerramienta()\n             this.showListTool = true\n             this.showForm = false\n             this.showSpinner = false\n          })\n          }\n        }\n      ]\n    })\n    await alert.present();\n  }\n  upload(){\n    this.fileChooser.open()\n    .then(uri => {\n      this.file.resolveLocalFilesystemUrl(uri).then((res:any) =>{\n        this.upload2(res)\n      })\n    }).catch(e => {  \n      console.log(e)\n    });\n  }\n  async presentAlert(data:any) {\n    const alert = await this.alertController.create({\n      header: 'Alert',\n      message: data,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n  upload2(data:any) {\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    let options: FileUploadOptions = {\n       fileKey: 'file',\n       fileName: data.name,\n       headers: {}\n    }\n    fileTransfer.upload(data.nativeURL, this.config.getConfig().bussinesServer.url+\"/upload\", options)\n     .then((res) => {\n       \n       this.formHerramienta.setValue({\n         name: res.response,\n         price: 'sig_tools'\n        })\n     }, (err) => {\n       console.error(err);\n     })\n  }\n  SendUri(){   \n    this.uploadS.SendUri(this.formHerramienta.value).subscribe((res:any)=>{\n      this.presentAlert(res.status)\n    })\n  }\n  addTool()\n  {\n    this.resetForm(this.formHerramienta)\n    if(this.showForm===false)\n    {\n      this.showListTool = false\n      this.showForm = true\n    }\n    else\n    {\n      this.showListTool = true\n      this.showForm = false\n    }\n  }\n  resetForm(form: any)\n  {\n    if(form)\n    {\n      form.reset()\n    }\n  }\n  register()\n  {\n   this.showSpinner = true\n    if(this.formHerramienta.value.id)\n    {\n      this.servicesHerramienta.put(this.formHerramienta.value)\n       .subscribe( (res:any) => {\n        this.getHerramienta()\n        this.showListTool = true\n        this.showForm = false\n        this.showSpinner = false\n        })\n    }\n    else\n    {\n     this.createTypeObra(this.formHerramienta.value)\n    }\n  }\n  createTypeObra(data:any)\n  {\n    this.servicesHerramienta.register(data)\n          .subscribe( (res:any) => {\n          this.getHerramienta()\n          this.showListTool = true\n          this.showForm = false\n          this.showSpinner = false\n    })\n  }\n  onSearch(event:any)\n  {\n    this.showSpinner = true\n    this.showListTool = true\n    const data = \n    {\n      name : event.target.value\n    }\n    \n    this.servicesHerramienta.searchs(data)\n    .subscribe( (res:any) => {\n       if(res.length > 0)\n       {\n         this.listAllObras = res\n         this.showSpinner = false\n       }\n       else\n       {\n        this.showSpinner = false\n        this.presentToast(\"Tipo de contrato no existe!\")\n       }\n    })\n  }\n  async presentToast(message:any) {\n    const toast = await this.toastController.create({\n      message: message,\n      position: 'top',\n      duration: 2000,\n      animated: true,\n      color: \"primary\"\n    })\n    toast.present()\n  }\n\n}\n"],"sourceRoot":""}