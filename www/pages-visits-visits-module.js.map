{"version":3,"sources":["webpack:///./src/app/pages/visits/visits.module.ts","webpack:///./src/app/pages/visits/visits.page.html","webpack:///./src/app/pages/visits/visits.page.scss","webpack:///./src/app/pages/visits/visits.page.ts"],"names":[],"mappings":"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","file":"pages-visits-visits-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VisitsPage } from './visits.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VisitsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [VisitsPage]\n})\nexport class VisitsPageModule {}\n","module.exports = \"<ion-menu side=\\\"start\\\" menuId=\\\"custom\\\">\\n  <ion-header>\\n      <ion-toolbar color=\\\"primary\\\">\\n          <ion-title>Sol-interApp</ion-title>\\n      </ion-toolbar>\\n  </ion-header>\\n  <ion-content>\\n      <ng-container *ngIf=\\\"typeuser == 1; else elseTemplate\\\">\\n          <ion-item class=\\\"pointer padding-text\\\" (click)=\\\"pageVisit()\\\">\\n              <ion-icon name=\\\"gift\\\"></ion-icon>\\n              <ion-label color=\\\"medium\\\">Gestion de Visitas</ion-label>\\n          </ion-item>\\n          <ion-item class=\\\"pointer padding-text\\\" (click)=\\\"pageUser()\\\">\\n              <ion-icon name=\\\"person-add\\\"></ion-icon>\\n              <ion-label color=\\\"medium\\\"> Usuarios </ion-label>\\n          </ion-item>\\n          <ion-item class=\\\"pointer padding-text\\\" (click)=\\\"pageClient()\\\">\\n              <ion-icon name=\\\"business\\\"></ion-icon>\\n              <ion-label color=\\\"medium\\\">Empresas</ion-label>\\n          </ion-item>\\n      </ng-container>\\n      <ng-template #elseTemplate>\\n          <ion-item class=\\\"pointer padding-text\\\" (click)=\\\"pageVisit()\\\">\\n              <ion-icon name=\\\"gift\\\"></ion-icon>\\n              <ion-label color=\\\"medium\\\">Gestion de Visitas</ion-label>\\n          </ion-item>\\n      </ng-template>       \\n      <ion-item class=\\\"pointer padding-text\\\" (click)=\\\"logout()\\\">\\n          <ion-icon name=\\\"md-log-out\\\"></ion-icon>\\n          <ion-label color=\\\"medium\\\">Cerrar sesi√≥n</ion-label>\\n      </ion-item>\\n  </ion-content>\\n</ion-menu>\\n\\n<ion-router-outlet main></ion-router-outlet>\\n<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/schedulesvisits\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title> {{ clientName }} </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n  <ion-spinner *ngIf=\\\"showSpiner\\\" name=\\\"crescent\\\" [ngClass]=\\\"{'spiner': showSpiner}\\\"></ion-spinner>\\n  <div *ngIf=\\\"showListSchedules\\\" [ngClass]=\\\"{'blur': showSpiner}\\\">\\n      <ion-card *ngFor=\\\"let vit of listAllSchedules\\\">\\n          <ion-item >\\n              <ion-grid style=\\\"margin-left: 0px\\\">\\n                  <ion-row>\\n                      <ion-col size=\\\"12\\\">\\n                          <label><strong>{{vit.descrioption}}</strong></label>\\n                          <ion-badge *ngIf=\\\"vit.schedule_status === 'activo'\\\" color=\\\"warning\\\">{{vit.schedule_status}}</ion-badge>\\n                          <ion-badge *ngIf=\\\"vit.schedule_status === 'pendiente'\\\" color=\\\"danger\\\">{{vit.schedule_status}}</ion-badge>\\n                          <ion-badge *ngIf=\\\"vit.schedule_status === 'terminado'\\\" color=\\\"success\\\">{{vit.schedule_status}}</ion-badge>\\n                      </ion-col>\\n                      <ion-col size=\\\"12\\\">\\n                          <span>Empresa: {{vit.client_name}}</span>\\n                      </ion-col>\\n                      <ion-col size=\\\"12\\\" *ngIf=\\\"typeuser==1\\\">\\n                          <span>Encargado: {{vit.user_name}}</span>\\n                      </ion-col>\\n                      <ion-col size=\\\"12\\\">\\n                          <span>Fecha: {{vit.datevisit}}</span>\\n                      </ion-col>\\n                  </ion-row>\\n              </ion-grid>\\n              <ion-button fill=\\\"outline\\\" (click)=\\\"orderes(vit)\\\" slot=\\\"end\\\">Ver</ion-button>\\n          </ion-item>\\n      </ion-card>\\n      <ion-card *ngIf=\\\"listAllSchedules == 0\\\" style=\\\"margin-top: 60%;height: 100px;align-items: center;\\\" >\\n          <ion-card-title style=\\\"top: 40%;left: 16%;\\\">No tiene visitas pendientes</ion-card-title>\\n      </ion-card>\\n  </div>\\n  <ion-fab *ngIf=\\\"listPenSchedules && listPenSchedules.length > 0\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n      <ion-fab-button (click)=\\\"openModal()\\\" *ngIf=\\\"typeuser == 3\\\">\\n          <ion-badge color=\\\"primary\\\">{{listPenSchedules.length}}</ion-badge>\\n          <ion-icon name=\\\"calendar\\\"></ion-icon>\\n      </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\\n\"","module.exports = \"ion-content {\\n  background-color: grey; }\\n\\n.blur {\\n  -webkit-filter: blur(5px);\\n          filter: blur(5px); }\\n\\n.spiner {\\n  position: fixed;\\n  top: 40%;\\n  left: 40%;\\n  height: 100px;\\n  width: 100px;\\n  z-index: 100;\\n  opacity: 0.5; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmR5Y2FpY2Vkby9Eb2N1bWVudHMvc29saW50ZXJhcHAvc3JjL2FwcC9wYWdlcy92aXNpdHMvdmlzaXRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHNCQUNKLEVBQUE7O0FBRUE7RUFDSSx5QkFBZ0I7VUFBaEIsaUJBQWdCLEVBQUE7O0FBR3BCO0VBQ0ksZUFBZTtFQUNmLFFBQVE7RUFDUixTQUFTO0VBQ1QsYUFBYTtFQUNiLFlBQVk7RUFDWixZQUFZO0VBQ1osWUFBWSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdmlzaXRzL3Zpc2l0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmV5XG59XG5cbi5ibHVye1xuICAgIGZpbHRlcjpibHVyKDVweCk7XG59XG5cbi5zcGluZXJ7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogNDAlO1xuICAgIGxlZnQ6IDQwJTtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICB6LWluZGV4OiAxMDA7XG4gICAgb3BhY2l0eTogMC41O1xufSJdfQ== */\"","import { Component, OnInit } from \"@angular/core\";\nimport { SchedulesvisitsService } from \"src/app/services/schedulesvisits.service\";\nimport { DataService } from \"src/app/services/data.service\";\nimport { ModalController } from \"@ionic/angular\";\nimport { Router } from \"@angular/router\";\nimport { Storage } from \"@ionic/storage\";\nimport { ClientService } from \"src/app/services/client.service\";\nimport { UserService } from \"src/app/services/user.service\";\n\n@Component({\n  selector: \"app-visits\",\n  templateUrl: \"./visits.page.html\",\n  styleUrls: [\"./visits.page.scss\"]\n})\nexport class VisitsPage implements OnInit {\n  public showSpiner = false;\n  public listAllSchedules: any;\n  public listPenSchedules: any;\n  public listAllScheduleso: any;\n  public showListScheduleso = false;\n  public clientName: string;\n  public listAllUsers: any;\n  public query: any;\n  public typeuser: any;\n  public showListSchedules = false;\n\n  constructor(\n    public storage: Storage,\n    public Scheduleservices: SchedulesvisitsService,\n    public Modalctrl: ModalController,\n    public router: Router,\n    private dataServiceSchedule: DataService,\n    public clientService: ClientService,\n    public userService: UserService\n  ) {}\n  ngOnInit() {\n    this.listSchedules();\n    this.clientName = this.dataServiceSchedule.schedules.clientName;\n  }\n\n  listSchedules() {\n    this.storage.get(\"user\").then(res => {\n      if (res != null) {\n        this.typeuser = res.user_usertype;\n        this.query = {\n          iduser: res.iduser,\n          typeUser: res.user_usertype,\n          clientid: this.dataServiceSchedule.schedules.client\n        };\n      } else {\n        this.typeuser = this.dataServiceSchedule.storage.user_usertype;\n        this.query = {\n          iduser: this.dataServiceSchedule.storage.iduser,\n          typeUser: this.dataServiceSchedule.storage.role,\n          clientid: this.dataServiceSchedule.schedules.client\n        };\n      }\n      this.showSpiner = true;\n      this.Scheduleservices.getSchedulesClient(this.query).subscribe(\n        (res: any) => {\n          this.listAllSchedules = res;\n          this.showListSchedules = true;\n          this.showSpiner = false;\n        }\n      );\n    });\n  }\n\n  orderes(data: any) {\n    this.showSpiner = true;\n    this.dataServiceSchedule.schedules = {\n      client: data.idclient,\n      clientName: data.client_name,\n      id: data.schedule_id\n    };\n    this.showSpiner = false;\n    this.router.navigate([\"/listschedule\"]);\n  }\n}\n"],"sourceRoot":""}