{"version":3,"sources":["webpack:///./src/app/pages/user/user.module.ts","webpack:///./src/app/pages/user/user.page.html","webpack:///./src/app/pages/user/user.page.scss","webpack:///./src/app/pages/user/user.page.ts"],"names":[],"mappings":"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","file":"pages-user-user-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserPage } from './user.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UserPage]\n})\nexport class UserPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"/schedulesvisits\\\"></ion-back-button>\\n        </ion-buttons>\\n\\n        <ion-searchbar mode=\\\"ios\\\" show-cancel-button=\\\"true\\\" cancel-button-text=\\\"Cancelar\\\" (ionChange)=\\\"onSearch($event)\\\" autocomplete=\\\"off\\\" autocorrect=\\\"on\\\" animated=\\\"true\\\" spellcheck=\\\"true\\\" type=\\\"text\\\" ionBlur=\\\"\\\" color=\\\"ligth\\\" placeholder=\\\"Buscar Usuario\\\">\\n        </ion-searchbar>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n\\n\\n<ion-content padding>\\n    <ion-spinner *ngIf=\\\"showSpinner\\\" name=\\\"crescent\\\" [ngClass]=\\\"{'spiner': showSpinner}\\\"></ion-spinner>\\n    <div *ngIf=\\\"showListUsers;\\\" [ngClass]=\\\"{'blur': showSpinner}\\\">\\n        <div *ngIf=\\\"listAllUsers && listAllUsers.length > 0\\\">\\n            <ion-card class=\\\"card-schedules\\\" *ngFor=\\\"let usr of listAllUsers\\\">\\n                <ion-card-header>\\n                    <ion-card-title>Nombre: {{ usr.user_name }} </ion-card-title>\\n                    <ion-card-subtitle>Correo: {{ usr.user_email }} </ion-card-subtitle>\\n                </ion-card-header>\\n                <ion-card-content>\\n                    Telefono: {{ usr.user_phone}}\\n                    <div style=\\\"float:right\\\">\\n                        <ion-chip>\\n                            <ion-icon mode=\\\"ios\\\" (click)=\\\"addUsers(2, usr)\\\" name=\\\"create\\\" color=\\\"primary\\\" class=\\\"icon-circle-small-e\\\"></ion-icon>\\n                            <ion-icon mode=\\\"ios\\\" (click)=\\\"presentAlertConfirm(usr.iduser)\\\" name=\\\"trash\\\" color=\\\"primary\\\" class=\\\"icon-circle-small-d\\\"></ion-icon>\\n                        </ion-chip>\\n                    </div>\\n                </ion-card-content>\\n            </ion-card>\\n        </div>\\n    </div>\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" (click)=\\\"addUsers(1, '')\\\">\\n        <ion-fab-button>\\n            <ion-icon name=\\\"add\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n</ion-content>\"","module.exports = \".card-schedules {\\n  border-radius: 5px;\\n  border-left-style: solid;\\n  border-left-color: #e0e0e0;\\n  border-left-width: thick;\\n  background: white; }\\n\\n.item {\\n  --border-radius:30px; }\\n\\n.bodycontent {\\n  background: white;\\n  background-repeat: no-repeat;\\n  height: 100%;\\n  width: 100%;\\n  overflow: auto; }\\n\\n.size {\\n  zoom: 1.5; }\\n\\n.blur {\\n  -webkit-filter: blur(5px);\\n          filter: blur(5px); }\\n\\n.spiner {\\n  position: fixed;\\n  top: 40%;\\n  left: 40%;\\n  height: 100px;\\n  width: 100px;\\n  z-index: 100;\\n  opacity: 0.5; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmR5Y2FpY2Vkby9Eb2N1bWVudHMvc29saW50ZXJhcHAvc3JjL2FwcC9wYWdlcy91c2VyL3VzZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksa0JBQWtCO0VBQ2xCLHdCQUF3QjtFQUN4QiwwQkFBMEI7RUFDMUIsd0JBQXdCO0VBQ3hCLGlCQUFpQixFQUFBOztBQUdyQjtFQUVFLG9CQUFnQixFQUFBOztBQUdsQjtFQUVHLGlCQUFpQjtFQUNqQiw0QkFBNEI7RUFDNUIsWUFBWTtFQUNaLFdBQVc7RUFDWCxjQUFjLEVBQUE7O0FBR2pCO0VBRUMsU0FBUyxFQUFBOztBQUdWO0VBQ0UseUJBQWdCO1VBQWhCLGlCQUFnQixFQUFBOztBQUdsQjtFQUNFLGVBQWU7RUFDZixRQUFRO0VBQ1IsU0FBUztFQUNULGFBQWE7RUFDYixZQUFZO0VBQ1osWUFBWTtFQUNaLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3VzZXIvdXNlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZC1zY2hlZHVsZXNcbntcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYm9yZGVyLWxlZnQtc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjZTBlMGUwO1xuICAgIGJvcmRlci1sZWZ0LXdpZHRoOiB0aGljaztcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLml0ZW1cbntcbiAgLS1ib3JkZXItcmFkaXVzOjMwcHg7XG59XG5cbi5ib2R5Y29udGVudFxue1xuICAgYmFja2dyb3VuZDogd2hpdGU7IFxuICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgIGhlaWdodDogMTAwJTtcbiAgIHdpZHRoOiAxMDAlO1xuICAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbi5zaXplXG57XG4gem9vbTogMS41O1xufVxuXG4uYmx1cntcbiAgZmlsdGVyOmJsdXIoNXB4KTtcbn1cblxuLnNwaW5lcntcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDQwJTtcbiAgbGVmdDogNDAlO1xuICBoZWlnaHQ6IDEwMHB4O1xuICB3aWR0aDogMTAwcHg7XG4gIHotaW5kZXg6IDEwMDtcbiAgb3BhY2l0eTogMC41O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../services/user.service';\nimport { Router } from '@angular/router';\nimport { UserModalComponent } from '../user-modal/user-modal.component'\nimport { AlertController, ModalController, ToastController } from '@ionic/angular';\nimport { ConfigService } from 'src/app/services/config-service';\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.page.html',\n  styleUrls: ['./user.page.scss'],\n})\nexport class UserPage implements OnInit {\n\n  public showSpinner=false;\n  public showListUsers=false\n  public listAllUsers:any\n\n\n  \n  constructor(\n    private alertController: AlertController, \n    private userservices:  UserService,\n    public toastController: ToastController,\n    public Modalctrl: ModalController,\n    public config: ConfigService,\n    private router: Router) { \n     \n   }\n\n  \n\n  ngOnInit() {\n    this.listUsers()\n  }\n  async addUsers(type, user) {\n    let modal = await this.Modalctrl.create({\n      component: UserModalComponent,\n      componentProps: {\n        'user' : user,\n        \"type\": type\n      }\n    });\n    modal.onDidDismiss().then((res) => {\n      if (res.data !== null) {\n        this.listUsers();\n      }\n    });\n    \n    return await modal.present();\n  }\n  listUsers()\n  {\n    this.showSpinner = true\n    this.userservices.getUsers().subscribe((res:any) => {\n      this.listAllUsers = res\n      this.showListUsers = true\n      this.showSpinner = false\n   })\n\n  }\n  async presentAlertConfirm(user:any) {\n    const alert = await this.alertController.create({\n      header: 'Seguro?',\n      message: '¿Desea eliminar este usario?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n        }, {\n          text: 'Si',\n          handler: () => {\n            this.deleteUser(user)\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n  async deleteUser(user:any){\n    this.showSpinner = true\n    const alert = await this.alertController.create({\n      header: 'Hubo un error',\n      message: 'Algo pasó!',\n    });\n    await this.userservices.deleteUser(user).subscribe( async (res:any) =>{\n      if (res.status) {\n        this.showSpinner = false\n        this.listUsers()\n      } else {\n        await alert.present();\n      }\n    })\n  }\n  resetForm(form: any)\n  {\n    if(form)\n    {\n      form.reset()\n    }\n  }\n  onSearch(event:any)\n  {\n    this.showSpinner = true\n    this.showListUsers = true\n    const data = {\n      name : event.target.value\n    }\n\n    this.userservices.searchsUsers(data).subscribe( (res:any) => {\n        if(res.status == true)\n        {\n          if(res.users.length > 0)\n          {\n            this.listAllUsers = res.users\n            this.showSpinner = false\n          }\n          else\n          {\n            this.listAllUsers = [];\n            this.presentToast(this.config.getMessage().searchsUser.message)\n            this.showSpinner = false\n          }\n        }\n      })\n     \n  }\n  async presentToast(message) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: 3000\n    });\n    toast.present();\n  }\n  pageClient(){\n\n    this.router.navigate(['/clients'])\n  }\n  pageMaterial(){\n    this.router.navigate(['/materials'])\n    \n  }\n  pageUser(){\n    this.router.navigate(['/user'])\n    \n  }\n  pageVisit(){\n    this.router.navigate(['/schedulesvisits'])\n    \n  }\n}\n"],"sourceRoot":""}