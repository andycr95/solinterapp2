{"version":3,"sources":["webpack:///./src/app/pages/tipo-obra/tipo-obra.module.ts","webpack:///./src/app/pages/tipo-obra/tipo-obra.page.html","webpack:///./src/app/pages/tipo-obra/tipo-obra.page.scss","webpack:///./src/app/pages/tipo-obra/tipo-obra.page.ts"],"names":[],"mappings":"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","file":"pages-tipo-obra-tipo-obra-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TipoObraPage } from './tipo-obra.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TipoObraPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TipoObraPage]\n})\nexport class TipoObraPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/schedulesvisits\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-searchbar\\n          mode=\\\"ios\\\"\\n          style=\\\"background:white;\\\"\\n          show-cancel-button=\\\"true\\\"\\n          cancel-button-text=\\\"Cancelar\\\"\\n          (ionChange)=\\\"onSearch($event)\\\"\\n          autocomplete=\\\"off\\\"\\n          autocorrect=\\\"on\\\"\\n          animated=\\\"true\\\" \\n          spellcheck=\\\"true\\\"\\n          type=\\\"text\\\"\\n          ionBlur=\\\"\\\"\\n          color=\\\"ligth\\\"\\n          placeholder=\\\"Buscar Tipo de Obra\\\">\\n    </ion-searchbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-fab-button color=\\\"primary\\\" (click)=\\\"addTipoObra()\\\">\\n        <ion-icon name=\\\"add\\\" style=\\\"color:white\\\"></ion-icon>\\n        <ion-badge  *ngIf=\\\"listAllObras && listAllObras.length > 0\\\">{{listAllObras.length}}\\n        </ion-badge>\\n      </ion-fab-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<div class=\\\"bodycontent\\\">\\n  <div text-center *ngIf=\\\"showSpinner;\\\">\\n    <ion-spinner name=\\\"lines\\\"></ion-spinner>\\n  </div>\\n\\n  <div *ngIf=\\\"showListObras\\\">\\n    <div *ngIf=\\\"listAllObras && listAllObras.length > 0\\\">\\n      <ion-card class=\\\"card-schedules\\\" *ngFor=\\\"let obr of listAllObras\\\">\\n        <ion-card-header>\\n          <ion-card-title> {{obr.nombre.toUpperCase()}} </ion-card-title>\\n        </ion-card-header>\\n        <ion-card-content>\\n          Estado: \\n          <span *ngIf=\\\"obr.estado == 1\\\">\\n            Activa\\n          </span>\\n          <div style=\\\"float:right\\\">\\n            <ion-icon color=\\\"primary\\\" (click)=\\\"edit(obr)\\\" class=\\\"size\\\" mode=\\\"ios\\\" name=\\\"create\\\"></ion-icon>\\n            <ion-icon color=\\\"primary\\\" (click)=\\\"delete(obr.idtipo)\\\" class=\\\"size\\\" mode=\\\"ios\\\" name=\\\"trash\\\"></ion-icon>\\n          </div>\\n        </ion-card-content>\\n      </ion-card>\\n    </div>\\n  </div>\\n\\n\\n\\n  <form *ngIf=\\\"showFormObra;\\\" [formGroup]=\\\"formObra\\\" (ngSubmit)=\\\"register()\\\">\\n    <ion-item class=\\\"item\\\">\\n       <ion-icon name=\\\"paper\\\" color=\\\"primary\\\" mode=\\\"ios\\\"></ion-icon>\\n       <ion-label>Obra</ion-label>\\n       <ion-input formControlName=\\\"name\\\" autocomplete=\\\"off\\\" type=\\\"text\\\"></ion-input>\\n       <input type=\\\"hidden\\\" formControlName=\\\"id\\\" >\\n    </ion-item>\\n\\n    <div class=\\\"seperar\\\">\\n        <ion-item mode=\\\"ios\\\" class='item'>\\n            <ion-button style=\\\"margin-left:110px;\\\" shape=\\\"round\\\" mode=\\\"ios\\\" color=\\\"light\\\" type=\\\"submit\\\">\\n            <ion-label class=\\\"textcapitalize\\\" style=\\\"color:#0d4690\\\">Registrar</ion-label>\\n            <ion-icon style=\\\"margin-left:100px\\\" name=\\\"send\\\" mode=\\\"ios\\\" color=\\\"primary\\\"></ion-icon>\\n          </ion-button>\\n      </ion-item>\\n      </div>\\n\\n </form> \\n</div>\"","module.exports = \".card-schedules {\\n  border-radius: 5px;\\n  border-left-style: solid;\\n  border-left-color: #e0e0e0;\\n  border-left-width: thick;\\n  background: white; }\\n\\n.item {\\n  --border-radius:30px;\\n  padding: 5%; }\\n\\n.bodycontent {\\n  background: #1971d1;\\n  background: linear-gradient(to right, #08377b, #1971d1);\\n  background-repeat: no-repeat;\\n  height: 100%;\\n  width: 100%;\\n  overflow: auto; }\\n\\n.size {\\n  zoom: 1.5; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmR5Y2FpY2Vkby9Eb2N1bWVudHMvc29saW50ZXJhcHAvc3JjL2FwcC9wYWdlcy90aXBvLW9icmEvdGlwby1vYnJhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVJLGtCQUFrQjtFQUNsQix3QkFBd0I7RUFDeEIsMEJBQTBCO0VBQzFCLHdCQUF3QjtFQUN4QixpQkFBaUIsRUFBQTs7QUFHckI7RUFFRSxvQkFBZ0I7RUFDaEIsV0FBVyxFQUFBOztBQUdiO0VBRUcsbUJBQW1CO0VBRW5CLHVEQUF1RDtFQUN2RCw0QkFBNEI7RUFDNUIsWUFBWTtFQUNaLFdBQVc7RUFDWCxjQUFjLEVBQUE7O0FBR2pCO0VBRUMsU0FBUyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGlwby1vYnJhL3RpcG8tb2JyYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZC1zY2hlZHVsZXNcbntcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYm9yZGVyLWxlZnQtc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjZTBlMGUwO1xuICAgIGJvcmRlci1sZWZ0LXdpZHRoOiB0aGljaztcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLml0ZW1cbntcbiAgLS1ib3JkZXItcmFkaXVzOjMwcHg7XG4gIHBhZGRpbmc6IDUlO1xufVxuXG4uYm9keWNvbnRlbnRcbntcbiAgIGJhY2tncm91bmQ6ICMxOTcxZDE7IFxuICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG8gcmlnaHQgIzA4Mzc3YiwgIzE5NzFkMSk7IFxuICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMDgzNzdiLCAjMTk3MWQxKTsgXG4gICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgaGVpZ2h0OiAxMDAlO1xuICAgd2lkdGg6IDEwMCU7XG4gICBvdmVyZmxvdzogYXV0bztcbn1cblxuLnNpemVcbntcbiB6b29tOiAxLjU7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { TipoObraService } from '../../services/tipo-obra.service';\nimport { FormBuilder, FormsModule, FormGroup, AbstractControl, Validators } from '@angular/forms';\nimport { ToastController, AlertController } from '@ionic/angular';\nimport { ConfigService } from '../../services/config-service';\n\n\n@Component({\n  selector: 'app-tipo-obra',\n  templateUrl: './tipo-obra.page.html',\n  styleUrls: ['./tipo-obra.page.scss'],\n})\nexport class TipoObraPage implements OnInit {\n\n  public listAllObras: any\n  public idProductDelete: any\n  public showListObras = false\n  public showSpinner = false\n  public showFormObra = false\n  public formObra : FormGroup\n  public name:AbstractControl\n\n  constructor(\n    private servicesTipoObra: TipoObraService,\n    private formBuilder: FormBuilder,\n    public toastController: ToastController,\n    public config: ConfigService,\n    public alertController: AlertController) \n  {\n   this.formObra = this.formBuilder.group({\n      id: [''],\n      name: ['', Validators.required ]\n    })\n    this.name = this.formObra.controls['name']\n  }\n\n  ngOnInit()\n  {\n    this.getTyPeObras()\n  }\n\n  getTyPeObras()\n  {\n    this.showSpinner = true\n    this.servicesTipoObra.getTypeObras().subscribe((res:any) => {\n      this.showListObras = true\n      this.listAllObras = res\n      this.showSpinner = false\n    })\n  }\n\n  edit(obra: any)\n  {\n    this.showListObras = false\n    this.showFormObra = true\n    this.formObra.setValue({ \n      id:obra.idtipo,\n      name: obra.nombre\n    })\n    this.showSpinner = false\n  }\n\n  async  delete(_id: any)\n  {\n    if(_id)\n    {\n     this.idProductDelete = _id\n     this.confirm()\n    }\n}\n\n  async confirm() \n  {\n    const alert = await this.alertController.create({\n      header: 'Está seguro de eliminar?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'primary',\n          handler: (blah) => {}\n        }, {\n          text: 'Si',\n          handler: () => \n          {\n            this.servicesTipoObra.deleteTypeObra(this.idProductDelete)\n            .subscribe( (res:any) => {\n             this.getTyPeObras()\n             this.showListObras = true\n             this.showFormObra = false\n             this.showSpinner = false\n          })\n          }\n        }\n      ]\n    })\n    await alert.present();\n  }\n\n\n  addTipoObra()\n  {\n    this.resetForm(this.formObra)\n    if(this.showFormObra===false)\n    {\n      this.showListObras = false\n      this.showFormObra = true\n    }\n    else\n    {\n      this.showListObras = true\n      this.showFormObra = false\n    }\n  }\n\n  resetForm(form: any)\n  {\n    if(form)\n    {\n      form.reset()\n    }\n  }\n\n  register()\n  {\n   this.showSpinner = true\n    if(this.formObra.value.id)\n    {\n      this.servicesTipoObra.putTypeObra(this.formObra.value)\n       .subscribe( (res:any) => {\n        this.getTyPeObras()\n        this.showListObras = true\n        this.showFormObra = false\n        this.showSpinner = false\n        })\n    }\n    else\n    {\n     this.createTypeObra(this.formObra.value)\n    }\n  }\n\n  async createTypeObra(data:any)\n  {\n    await this.servicesTipoObra.registerTypeObras(data)\n          .subscribe( (res:any) => {\n          this.getTyPeObras()\n          this.showListObras = true\n          this.showFormObra = false\n          this.showSpinner = false\n    })\n  }\n\n  onSearch(event:any)\n  {\n    this.showSpinner = true\n    this.showListObras = true\n    const data = \n    {\n      name : event.target.value\n    }\n    \n    this.servicesTipoObra.searchsTypeObras(data).subscribe( (res:any) => {\n       if(res.length > 0)\n       {\n         this.listAllObras = res\n         this.showSpinner = false\n       }\n       else\n       {\n        this.showSpinner = false\n        this.presentToast(\"Tipo de obra no existe!\")\n       }\n    })\n  }\n\n  async presentToast(message:any)\n  {\n    const toast = await this.toastController.create({\n      message: message,\n      position: 'top',\n      duration: 2000,\n      animated: true,\n      color: \"primary\"\n    })\n    toast.present()\n  }\n}\n"],"sourceRoot":""}